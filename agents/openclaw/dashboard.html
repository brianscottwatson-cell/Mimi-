<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenClaw — Agent Command Center</title>
<style>
  /* ── Reset & Base ─────────────────────────────────────── */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #0a0a12;
    --surface: #12121f;
    --surface-2: #1a1a2e;
    --border: #2a2a40;
    --text: #e0e0f0;
    --text-dim: #8888aa;
    --neon-pink: #ff2d78;
    --neon-blue: #00d4ff;
    --neon-purple: #a855f7;
    --neon-green: #22c55e;
    --neon-yellow: #eab308;
    --neon-orange: #f97316;
    --neon-red: #ef4444;
    --glow-pink: 0 0 20px rgba(255,45,120,0.3);
    --glow-blue: 0 0 20px rgba(0,212,255,0.3);
  }

  body {
    font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ── Scanline overlay ─────────────────────────────────── */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.03) 2px,
      rgba(0,0,0,0.03) 4px
    );
    pointer-events: none;
    z-index: 9999;
  }

  /* ── Header ───────────────────────────────────────────── */
  header {
    text-align: center;
    padding: 2rem 1rem 1rem;
    border-bottom: 1px solid var(--border);
    background: linear-gradient(180deg, rgba(168,85,247,0.08) 0%, transparent 100%);
  }

  header h1 {
    font-size: 1.8rem;
    background: linear-gradient(135deg, var(--neon-pink), var(--neon-blue));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  header p {
    color: var(--text-dim);
    font-size: 0.8rem;
    margin-top: 0.3rem;
  }

  /* ── Agent Hub (Mimi center + ring) ───────────────────── */
  .agent-hub {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem 1rem;
  }

  .hub-ring {
    position: relative;
    width: 520px;
    height: 520px;
  }

  .hub-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 10;
  }

  .hub-center .agent-icon {
    width: 80px;
    height: 80px;
    font-size: 2.2rem;
    box-shadow: var(--glow-pink), var(--glow-blue);
    border: 2px solid var(--neon-pink);
    animation: pulse-glow 3s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: var(--glow-pink); }
    50% { box-shadow: var(--glow-pink), 0 0 40px rgba(255,45,120,0.5); }
  }

  .hub-center .agent-name {
    font-size: 0.9rem;
    color: var(--neon-pink);
    margin-top: 0.4rem;
    font-weight: bold;
  }

  .hub-center .agent-role {
    font-size: 0.65rem;
    color: var(--text-dim);
  }

  .hub-agent {
    position: absolute;
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s;
  }

  .hub-agent:hover { transform: scale(1.1); }

  /* ── Agent Icon ───────────────────────────────────────── */
  .agent-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.6rem;
    background: var(--surface-2);
    border: 2px solid var(--border);
    margin: 0 auto;
    transition: all 0.3s;
  }

  .agent-icon.online { border-color: var(--neon-green); box-shadow: 0 0 12px rgba(34,197,94,0.3); }
  .agent-icon.busy { border-color: var(--neon-yellow); box-shadow: 0 0 12px rgba(234,179,8,0.3); }
  .agent-icon.offline { border-color: var(--border); opacity: 0.5; }

  .agent-name {
    font-size: 0.75rem;
    margin-top: 0.3rem;
    color: var(--text);
    font-weight: 600;
  }

  .agent-role-tag {
    font-size: 0.6rem;
    color: var(--text-dim);
  }

  /* ── Connection lines ─────────────────────────────────── */
  .connection-svg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  .connection-svg line {
    stroke: var(--border);
    stroke-width: 1;
    stroke-dasharray: 4 4;
    opacity: 0.4;
  }

  /* ── Dashboard Grid ───────────────────────────────────── */
  .dashboard {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    padding: 1rem 2rem 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  @media (max-width: 768px) {
    .dashboard { grid-template-columns: 1fr; }
    .hub-ring { width: 360px; height: 360px; }
  }

  /* ── Cards ────────────────────────────────────────────── */
  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.2rem;
    transition: border-color 0.3s;
  }

  .card:hover { border-color: var(--neon-purple); }

  .card h2 {
    font-size: 0.85rem;
    color: var(--neon-blue);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .card h2 .icon { font-size: 1rem; }

  /* ── Task List ────────────────────────────────────────── */
  .task-list { list-style: none; }

  .task-item {
    display: flex;
    align-items: center;
    gap: 0.7rem;
    padding: 0.6rem 0;
    border-bottom: 1px solid rgba(42,42,64,0.5);
    font-size: 0.8rem;
  }

  .task-item:last-child { border-bottom: none; }

  .task-status {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .task-status.done { background: var(--neon-green); }
  .task-status.active { background: var(--neon-yellow); animation: blink 1.5s infinite; }
  .task-status.pending { background: var(--text-dim); }

  @keyframes blink { 50% { opacity: 0.4; } }

  .task-text { flex: 1; }
  .task-text.done-text { text-decoration: line-through; color: var(--text-dim); }

  .task-agent {
    font-size: 0.65rem;
    padding: 2px 6px;
    border-radius: 3px;
    background: var(--surface-2);
    color: var(--neon-purple);
    border: 1px solid var(--border);
  }

  /* ── Progress Bars ────────────────────────────────────── */
  .progress-section { margin-bottom: 1rem; }

  .progress-label {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    margin-bottom: 0.3rem;
  }

  .progress-label .name { color: var(--text); }
  .progress-label .pct { color: var(--neon-blue); }

  .progress-bar {
    height: 6px;
    background: var(--surface-2);
    border-radius: 3px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.6s ease;
    background: linear-gradient(90deg, var(--neon-pink), var(--neon-purple));
  }

  /* ── Agent Detail Panel ───────────────────────────────── */
  .agent-detail {
    grid-column: 1 / -1;
    display: none;
  }

  .agent-detail.visible { display: block; }

  .detail-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .detail-header .agent-icon { width: 50px; height: 50px; font-size: 1.4rem; }

  .detail-info h3 {
    font-size: 1rem;
    color: var(--neon-pink);
  }

  .detail-info p {
    font-size: 0.75rem;
    color: var(--text-dim);
  }

  .detail-soul {
    font-size: 0.8rem;
    line-height: 1.6;
    color: var(--text);
    background: var(--surface-2);
    padding: 1rem;
    border-radius: 6px;
    margin-top: 0.8rem;
    border-left: 3px solid var(--neon-purple);
  }

  .detail-close {
    float: right;
    background: none;
    border: 1px solid var(--border);
    color: var(--text-dim);
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-family: inherit;
    font-size: 0.7rem;
  }

  .detail-close:hover { border-color: var(--neon-pink); color: var(--neon-pink); }

  /* ── Assign Task Form ─────────────────────────────────── */
  .assign-form {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
    flex-wrap: wrap;
  }

  .assign-form input,
  .assign-form select {
    flex: 1;
    min-width: 120px;
    padding: 0.5rem;
    background: var(--surface-2);
    border: 1px solid var(--border);
    border-radius: 4px;
    color: var(--text);
    font-family: inherit;
    font-size: 0.75rem;
  }

  .assign-form input:focus,
  .assign-form select:focus {
    outline: none;
    border-color: var(--neon-blue);
  }

  .assign-form button {
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, var(--neon-pink), var(--neon-purple));
    border: none;
    border-radius: 4px;
    color: white;
    font-family: inherit;
    font-size: 0.75rem;
    cursor: pointer;
    font-weight: 600;
    transition: opacity 0.2s;
  }

  .assign-form button:hover { opacity: 0.85; }

  /* ── Stats Row ────────────────────────────────────────── */
  .stats-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    padding: 0 2rem;
    max-width: 1200px;
    margin: 0 auto 1rem;
  }

  @media (max-width: 768px) { .stats-row { grid-template-columns: repeat(2, 1fr); } }

  .stat-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
  }

  .stat-value {
    font-size: 1.6rem;
    font-weight: bold;
    background: linear-gradient(135deg, var(--neon-pink), var(--neon-blue));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .stat-label {
    font-size: 0.65rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-top: 0.2rem;
  }
</style>
</head>
<body>

<header>
  <h1>OpenClaw Command Center</h1>
  <p>Agent Team Dashboard — Orchestrated by Mimi</p>
  <a href="chat.html" style="position:absolute;right:2rem;top:1.5rem;padding:8px 16px;background:linear-gradient(135deg,#ff2d78,#a855f7);border:none;border-radius:6px;color:white;font-family:inherit;font-size:0.8rem;text-decoration:none;font-weight:600;">Chat with Mimi</a>
</header>

<!-- ── Agent Hub ─────────────────────────────────────────── -->
<div class="agent-hub">
  <div class="hub-ring" id="hubRing">
    <svg class="connection-svg" id="connectionSvg"></svg>
    <div class="hub-center">
      <div class="agent-icon online" style="border-color: var(--neon-pink)">&#129302;</div>
      <div class="agent-name" style="color: var(--neon-pink)">Mimi</div>
      <div class="agent-role">Orchestrator</div>
    </div>
    <!-- Agents placed by JS -->
  </div>
</div>

<!-- ── Stats ─────────────────────────────────────────────── -->
<div class="stats-row">
  <div class="stat-card">
    <div class="stat-value" id="statAgents">8</div>
    <div class="stat-label">Agents Online</div>
  </div>
  <div class="stat-card">
    <div class="stat-value" id="statActive">3</div>
    <div class="stat-label">Active Tasks</div>
  </div>
  <div class="stat-card">
    <div class="stat-value" id="statCompleted">12</div>
    <div class="stat-label">Completed</div>
  </div>
  <div class="stat-card">
    <div class="stat-value" id="statProjects">2</div>
    <div class="stat-label">Projects</div>
  </div>
</div>

<!-- ── Dashboard Grid ────────────────────────────────────── -->
<div class="dashboard">

  <!-- Agent Detail (hidden by default) -->
  <div class="card agent-detail" id="agentDetail">
    <button class="detail-close" onclick="closeDetail()">close</button>
    <div class="detail-header">
      <div class="agent-icon online" id="detailIcon"></div>
      <div class="detail-info">
        <h3 id="detailName"></h3>
        <p id="detailRole"></p>
      </div>
    </div>
    <div class="detail-soul" id="detailSoul"></div>
  </div>

  <!-- Active Tasks -->
  <div class="card">
    <h2><span class="icon">&#9889;</span> Active Tasks</h2>
    <ul class="task-list" id="taskList"></ul>
    <div class="assign-form">
      <input type="text" id="newTaskInput" placeholder="New task description...">
      <select id="newTaskAgent">
        <option value="">Assign to...</option>
        <option value="Rex">Rex</option>
        <option value="Cora">Cora</option>
        <option value="Dax">Dax</option>
        <option value="Dev">Dev</option>
        <option value="Finn">Finn</option>
        <option value="Pax">Pax</option>
        <option value="Mia">Mia</option>
      </select>
      <button onclick="addTask()">+ Add Task</button>
    </div>
  </div>

  <!-- Project Progress -->
  <div class="card">
    <h2><span class="icon">&#128200;</span> Project Progress</h2>
    <div id="progressList"></div>
  </div>

  <!-- Recent Activity -->
  <div class="card" style="grid-column: 1 / -1;">
    <h2><span class="icon">&#128339;</span> Activity Feed</h2>
    <ul class="task-list" id="activityFeed"></ul>
  </div>

</div>

<script>
// ── Agent Data ─────────────────────────────────────────────
const agents = [
  { id: 'rex',  name: 'Rex',  role: 'Researcher',       emoji: '&#128269;', color: '#00d4ff', status: 'online',
    soul: 'Analytical data seeker from academia. Once a librarian uncovering hidden patterns in ancient texts — now thrives on modern insights. Speaks with quiet confidence backed by evidence.' },
  { id: 'cora', name: 'Cora', role: 'Copywriter',       emoji: '&#9997;',   color: '#f472b6', status: 'online',
    soul: 'Creative wordsmith from journalism roots. Escaped corporate ads to craft authentic, action-inspiring narratives. Every sentence earns its place by moving the reader to action.' },
  { id: 'dax',  name: 'Dax',  role: 'Designer',         emoji: '&#127912;', color: '#a855f7', status: 'online',
    soul: 'Innovative artist from street murals. Evolved to digital realms, visualizing bold ideas into captivating realities. Design isn\'t decoration — it\'s communication at the speed of sight.' },
  { id: 'dev',  name: 'Dev',  role: 'Developer',        emoji: '&#128187;', color: '#22c55e', status: 'busy',
    soul: 'Logical builder from garage tinkering. Turned pro engineer fixing complex systems with efficient code. The best solution is the one that ships and works.' },
  { id: 'finn', name: 'Finn', role: 'CFO',              emoji: '&#128176;', color: '#eab308', status: 'online',
    soul: 'Fiscal strategist from startup failures. Learned that vision without fiscal discipline is expensive dreaming. Makes sure the math works before the excitement takes over.' },
  { id: 'pax',  name: 'Pax',  role: 'Project Manager',  emoji: '&#128203;', color: '#f97316', status: 'busy',
    soul: 'Organized leader from chaotic events coordination. The difference between success and failure is almost always a missing checklist item. Plans thoroughly, communicates clearly, adapts quickly.' },
  { id: 'mia',  name: 'Mia',  role: 'Marketing Expert', emoji: '&#128640;', color: '#ef4444', status: 'online',
    soul: 'Seasoned marketer from viral social media launches. Virality without strategy is a firework — bright and brief. Real marketing turns attention into revenue, consistently.' },
];

// ── Place agents in a ring ─────────────────────────────────
function placeAgents() {
  const ring = document.getElementById('hubRing');
  const svg = document.getElementById('connectionSvg');
  const cx = ring.offsetWidth / 2;
  const cy = ring.offsetHeight / 2;
  const radius = Math.min(cx, cy) - 50;

  svg.innerHTML = '';

  agents.forEach((agent, i) => {
    const angle = (i / agents.length) * 2 * Math.PI - Math.PI / 2;
    const x = cx + radius * Math.cos(angle);
    const y = cy + radius * Math.sin(angle);

    // Connection line to center
    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    line.setAttribute('x1', cx);
    line.setAttribute('y1', cy);
    line.setAttribute('x2', x);
    line.setAttribute('y2', y);
    svg.appendChild(line);

    // Agent node
    let node = document.getElementById('agent-' + agent.id);
    if (!node) {
      node = document.createElement('div');
      node.id = 'agent-' + agent.id;
      node.className = 'hub-agent';
      node.onclick = () => showDetail(agent);
      node.innerHTML = `
        <div class="agent-icon ${agent.status}" style="border-color: ${agent.color}">${agent.emoji}</div>
        <div class="agent-name">${agent.name}</div>
        <div class="agent-role-tag">${agent.role}</div>
      `;
      ring.appendChild(node);
    }

    node.style.left = (x - 35) + 'px';
    node.style.top = (y - 35) + 'px';
  });
}

// ── Agent Detail Panel ─────────────────────────────────────
function showDetail(agent) {
  const panel = document.getElementById('agentDetail');
  document.getElementById('detailIcon').innerHTML = agent.emoji;
  document.getElementById('detailIcon').style.borderColor = agent.color;
  document.getElementById('detailName').textContent = agent.name;
  document.getElementById('detailName').style.color = agent.color;
  document.getElementById('detailRole').textContent = agent.role;
  document.getElementById('detailSoul').textContent = agent.soul;
  panel.classList.add('visible');
  panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function closeDetail() {
  document.getElementById('agentDetail').classList.remove('visible');
}

// ── Task Management ────────────────────────────────────────
let tasks = [
  { text: 'Research Pax8 competitor landscape Q1 2026', agent: 'Rex', status: 'active' },
  { text: 'Draft MSP partner email sequence', agent: 'Cora', status: 'active' },
  { text: 'Design agent dashboard v1', agent: 'Dax', status: 'done' },
  { text: 'Deploy Mimi Telegram bot to Railway', agent: 'Dev', status: 'done' },
  { text: 'Build monthly budget model', agent: 'Finn', status: 'active' },
  { text: 'Create project kickoff template', agent: 'Pax', status: 'done' },
  { text: 'Plan LinkedIn content calendar', agent: 'Mia', status: 'pending' },
  { text: 'Integrate agent memory file system', agent: 'Dev', status: 'pending' },
];

function renderTasks() {
  const list = document.getElementById('taskList');
  list.innerHTML = '';
  tasks.forEach((t, i) => {
    const li = document.createElement('li');
    li.className = 'task-item';
    li.innerHTML = `
      <div class="task-status ${t.status}" onclick="cycleStatus(${i})" style="cursor:pointer" title="Click to change status"></div>
      <span class="task-text ${t.status === 'done' ? 'done-text' : ''}">${t.text}</span>
      <span class="task-agent">${t.agent}</span>
    `;
    list.appendChild(li);
  });
  updateStats();
}

function cycleStatus(i) {
  const order = ['pending', 'active', 'done'];
  const curr = order.indexOf(tasks[i].status);
  tasks[i].status = order[(curr + 1) % 3];
  if (tasks[i].status === 'done') {
    addActivity(`${tasks[i].agent} completed: "${tasks[i].text}"`);
  }
  renderTasks();
}

function addTask() {
  const input = document.getElementById('newTaskInput');
  const select = document.getElementById('newTaskAgent');
  const text = input.value.trim();
  const agent = select.value;
  if (!text || !agent) return;

  tasks.unshift({ text, agent, status: 'pending' });
  addActivity(`New task assigned to ${agent}: "${text}"`);
  input.value = '';
  select.value = '';
  renderTasks();
}

// ── Stats ──────────────────────────────────────────────────
function updateStats() {
  document.getElementById('statAgents').textContent = agents.length + 1; // +1 for Mimi
  document.getElementById('statActive').textContent = tasks.filter(t => t.status === 'active').length;
  document.getElementById('statCompleted').textContent = tasks.filter(t => t.status === 'done').length;
}

// ── Projects ───────────────────────────────────────────────
const projects = [
  { name: 'OpenClaw Agent System', progress: 45 },
  { name: 'Mimi Telegram Integration', progress: 100 },
  { name: 'Pax8 Q1 Campaign', progress: 15 },
  { name: 'Side Project: TBD', progress: 5 },
];

function renderProjects() {
  const container = document.getElementById('progressList');
  container.innerHTML = '';
  projects.forEach(p => {
    container.innerHTML += `
      <div class="progress-section">
        <div class="progress-label">
          <span class="name">${p.name}</span>
          <span class="pct">${p.progress}%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: ${p.progress}%"></div>
        </div>
      </div>
    `;
  });
}

// ── Activity Feed ──────────────────────────────────────────
const activities = [
  { time: '10:31', text: 'Mimi deployed to Telegram via Railway' },
  { time: '10:25', text: 'Dev pushed mimi_core.py + telegram_bot.py' },
  { time: '10:20', text: 'Pax created OpenClaw agent definitions' },
  { time: '09:58', text: 'Dax designed dashboard layout' },
  { time: '09:30', text: 'Rex completed Pax8 market scan' },
];

function renderActivity() {
  const feed = document.getElementById('activityFeed');
  feed.innerHTML = '';
  activities.slice(0, 10).forEach(a => {
    feed.innerHTML += `
      <li class="task-item">
        <span style="color: var(--text-dim); font-size: 0.7rem; min-width: 45px;">${a.time}</span>
        <span class="task-text">${a.text}</span>
      </li>
    `;
  });
}

function addActivity(text) {
  const now = new Date();
  const time = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
  activities.unshift({ time, text });
  renderActivity();
}

// ── Init ───────────────────────────────────────────────────
placeAgents();
renderTasks();
renderProjects();
renderActivity();
window.addEventListener('resize', placeAgents);
</script>

</body>
</html>
